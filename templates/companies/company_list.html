{% extends 'base.html' %}

{% block title %}Explore Companies - PlacementHub{% endblock %}

{% block content %}
<div class="row mb-5 align-items-center">
    <div class="col-md-7">
        <h1 class="fw-bold text-dark display-6 mb-2">Explore Companies</h1>
        <p class="text-muted lead pb-0 mb-0">Discover top recruiters and their recruitment details.</p>
    </div>
    <div class="col-md-5 mt-4 mt-md-0">
        <div class="position-relative">
            <span class="position-absolute top-50 start-0 translate-middle-y ms-3 text-muted">
                <i class="bi bi-search"></i>
            </span>
            <input type="search" name="q" class="form-control form-control-lg ps-5 shadow-sm border-0 rounded-pill"
                placeholder="Search name, industry or location..." hx-get="{% url 'company_list' %}"
                hx-trigger="keyup changed delay:300ms, search" hx-target="#company-results-container"
                hx-indicator=".search-indicator" value="{{ request.GET.q }}">
            <div class="search-indicator htmx-indicator position-absolute top-50 end-0 translate-middle-y me-3">
                <div class="spinner-border spinner-border-sm text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="company-results-container">
    {% include 'companies/_company_list_partial.html' %}
</div>

<style>
    .pagination .page-link {
        width: 38px;
        height: 38px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        color: #2a5298;
        font-weight: 500;
        margin: 0 2px;
    }

    .pagination .page-item.active .page-link {
        background-color: #2a5298;
        color: white;
    }

    .htmx-indicator {
        opacity: 0;
        transition: opacity 200ms ease-in;
    }

    .htmx-request .htmx-indicator {
        opacity: 1;
    }
</style>
{% endblock %}