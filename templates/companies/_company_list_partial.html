<div class="row" id="company-results">
    {% for company in companies %}
    <div class="col-md-6 col-lg-4 mb-4">
        <div class="card h-100 p-3 shadow-sm border-0" style="border-radius: 15px; transition: all 0.3s ease;">
            <div class="d-flex align-items-center mb-3">
                {% if company.logo %}
                <img src="{{ company.logo.url }}" class="me-3 rounded"
                    style="width: 50px; height: 50px; object-fit: contain;">
                {% else %}
                <div class="bg-primary bg-opacity-10 text-primary p-2 rounded me-3 d-flex align-items-center justify-content-center"
                    style="width: 50px; height: 50px;">
                    <i class="bi bi-building fs-3"></i>
                </div>
                {% endif %}
                <div class="overflow-hidden">
                    <h5 class="fw-bold mb-0 text-truncate">{{ company.name }}</h5>
                    <small class="text-secondary">{{ company.industry }}</small>
                </div>
            </div>
            <p class="text-muted small mb-3"
                style="height: 3rem; display: -webkit-box; -webkit-line-clamp: 2; line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
                {{ company.description }}
            </p>
            <div class="mb-3 d-flex flex-wrap gap-1">
                {{ company.get_location_summary_html }}

                {% if company.active_hiring %}
                <span
                    class="badge bg-success bg-opacity-10 text-success border border-success border-opacity-25">Hiring</span>
                {% endif %}
            </div>
            <div class="mt-auto">
                <a href="{% url 'company_detail' company.pk %}"
                    class="btn btn-outline-primary btn-sm w-100 rounded-pill">View Details</a>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="col-12 text-center py-5">
        <div class="mb-3">
            <i class="bi bi-search fs-1 text-muted"></i>
        </div>
        <h4 class="text-muted">No matching companies found</h4>
    </div>
    {% endfor %}
</div>

{% if is_paginated %}
<nav class="mt-4" hx-boost="true">
    <ul class="pagination justify-content-center">
        {% if page_obj.has_previous %}
        <li class="page-item"><a class="page-link rounded-circle me-1"
                href="?page={{ page_obj.previous_page_number }}"><i class="bi bi-chevron-left"></i></a></li>
        {% endif %}
        <li class="page-item active"><span class="page-link rounded-circle me-1">{{ page_obj.number }}</span></li>
        {% if page_obj.has_next %}
        <li class="page-item"><a class="page-link rounded-circle" href="?page={{ page_obj.next_page_number }}"><i
                    class="bi bi-chevron-right"></i></a></li>
        {% endif %}
    </ul>
</nav>
{% endif %}